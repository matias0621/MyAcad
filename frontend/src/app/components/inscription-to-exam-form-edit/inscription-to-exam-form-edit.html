<form class="exam-form" [formGroup]="form" (submit)="OnSubmit()">
    <div class="exam-form-field">
        <label for="edit-inscription-date">Fecha de inscripción</label>
        <input id="edit-inscription-date" type="datetime-local" formControlName="inscriptionDate"
            placeholder="Actualizá la fecha y hora de apertura">
    </div>

    <div class="exam-form-field">
        <label for="edit-final-date">Fecha del examen</label>
        <input id="edit-final-date" type="datetime-local" formControlName="finalExamDate"
            placeholder="Actualizá la fecha y hora del examen">
    </div>

    <button type="submit" class="exam-form-submit" [disabled]="form.invalid || subjectId === null">Guardar cambios</button>
</form>

<section class="exam-form-subjects">
    <header class="exam-form-subjects__header">
        <h3>Materias disponibles</h3>
        <p>Asigná o actualizá la materia asociada a la mesa.</p>
    </header>

    @if (selectedSubjectName) {
    <p class="exam-selected-info">Materia seleccionada: <span>{{ selectedSubjectName }}</span></p>
    }

    @if (form.get('programName')?.errors?.['required']) {
    <p class="exam-empty-text">Aún no hay materias cargadas en el sistema.</p>
    }
    @else {
    <ul class="exam-subject-list">
        @for (subjects of subjectsServices.listSubject; track $index) {
        <li class="exam-subject-item" [class.exam-subject-item--selected]="subjectId === subjects.id">
            <span class="exam-subject-name">{{ subjects.name }}</span>
            <button type="button" class="exam-subject-action" (click)="addToSubject(subjects.id)">Asignar</button>
        </li>
        }
    </ul>
    }
</section>
